DROP SEQUENCE DEMO_EMPLOYEE_SEQ;
DROP TABLE DEMO_EMPLOYEE;
DROP TABLE DEMO_DEPARTMENT;
DROP TABLE DEMO_JOB_TITLE;
DROP TABLE DEMO_TECHNICAL_SKILL;
--------------------------------------------------------------
CREATE SEQUENCE DEMO_EMPLOYEE_SEQ
MINVALUE 200
MAXVALUE 9999999999999999999999999999
INCREMENT BY 1
START WITH 201
NOCACHE
NOCYCLE;
--------------------------------------------------------------
CREATE TABLE DEMO_JOB_TITLE
(
  JOB_TITLE VARCHAR2(30) PRIMARY KEY NOT NULL
);

INSERT INTO DEMO_JOB_TITLE(JOB_TITLE)VALUES('President');
INSERT INTO DEMO_JOB_TITLE(JOB_TITLE)VALUES('Administration Vice President');
INSERT INTO DEMO_JOB_TITLE(JOB_TITLE)VALUES('Finance Manager');
INSERT INTO DEMO_JOB_TITLE(JOB_TITLE)VALUES('Accountant');
INSERT INTO DEMO_JOB_TITLE(JOB_TITLE)VALUES('Accounting Manager');
INSERT INTO DEMO_JOB_TITLE(JOB_TITLE)VALUES('Sales Manager');
INSERT INTO DEMO_JOB_TITLE(JOB_TITLE)VALUES('Shipping Clerk');
INSERT INTO DEMO_JOB_TITLE(JOB_TITLE)VALUES('Programmer');
INSERT INTO DEMO_JOB_TITLE(JOB_TITLE)VALUES('System Analyst');
INSERT INTO DEMO_JOB_TITLE(JOB_TITLE)VALUES('QA Tester');
COMMIT;
------------------------------------------------------------------------------
CREATE TABLE DEMO_DEPARTMENT
(
  DEPARTMENT_ID NUMBER PRIMARY KEY NOT NULL,
  DEPARTMENT_NAME VARCHAR2(30) NOT NULL
);

INSERT INTO DEMO_DEPARTMENT(DEPARTMENT_ID, DEPARTMENT_NAME) VALUES(101, 'IT');
INSERT INTO DEMO_DEPARTMENT(DEPARTMENT_ID, DEPARTMENT_NAME) VALUES(102, 'Operations');
INSERT INTO DEMO_DEPARTMENT(DEPARTMENT_ID, DEPARTMENT_NAME) VALUES(103, 'Sales');
INSERT INTO DEMO_DEPARTMENT(DEPARTMENT_ID, DEPARTMENT_NAME) VALUES(104, 'Marketing');
COMMIT;
-------------------------------------------------------------------------------
CREATE TABLE DEMO_EMPLOYEE
(
    ID NUMBER PRIMARY KEY NOT NULL,
    FIRST_NAME VARCHAR2(50) NOT NULL,
    LAST_NAME VARCHAR2(50) NOT NULL,
    SALARY NUMBER DEFAULT 20599 NOT NULL,
    JOB_TITLE VARCHAR2(30) DEFAULT 'Shipping Clerk' NOT NULL,
    DEPARTMENT_ID NUMBER DEFAULT 103 NOT NULL,
    RATING NUMBER DEFAULT 5 NOT NULL,
    START_DATE DATE DEFAULT SYSDATE NOT NULL,
    IS_ACTIVE NUMBER DEFAULT 1 NOT NULL,
    
    CONSTRAINT FK_JOB_TITLE
    FOREIGN KEY(JOB_TITLE)
    REFERENCES DEMO_JOB_TITLE(JOB_TITLE),
    
    CONSTRAINT FK_DEPARTMENT
    FOREIGN KEY(DEPARTMENT_ID)
    REFERENCES DEMO_DEPARTMENT(DEPARTMENT_ID)

);

INSERT INTO DEMO_EMPLOYEE(ID, FIRST_NAME, LAST_NAME, SALARY, JOB_TITLE, DEPARTMENT_ID, RATING, START_DATE, IS_ACTIVE)
VALUES(DEMO_EMPLOYEE_SEQ.NEXTVAL, 'Kashif', 'Mubarak', 89500, 'President', 102, 10, TO_DATE('05/29/2012', 'MM/DD/YYYY'), 1);

INSERT INTO DEMO_EMPLOYEE(ID, FIRST_NAME, LAST_NAME, SALARY, JOB_TITLE, DEPARTMENT_ID, RATING, START_DATE, IS_ACTIVE)
VALUES(DEMO_EMPLOYEE_SEQ.NEXTVAL, 'John', 'Koenig', 22000, 'QA Tester', 102, 6, TO_DATE('01/01/1995', 'MM/DD/YYYY'), 1);

INSERT INTO DEMO_EMPLOYEE(ID, FIRST_NAME, LAST_NAME, SALARY, JOB_TITLE, DEPARTMENT_ID, RATING, START_DATE, IS_ACTIVE)
VALUES(DEMO_EMPLOYEE_SEQ.NEXTVAL, 'John', 'Crichton', 29000, 'System Analyst', 102, 6, TO_DATE('01/01/1994', 'MM/DD/YYYY'), 1);

INSERT INTO DEMO_EMPLOYEE(ID, FIRST_NAME, LAST_NAME, SALARY, JOB_TITLE, DEPARTMENT_ID, RATING, START_DATE, IS_ACTIVE)
VALUES(DEMO_EMPLOYEE_SEQ.NEXTVAL, 'John', 'Sheridan', 33000, 'System Analyst', 102, 7, TO_DATE('01/01/1998', 'MM/DD/YYYY'), 1);

INSERT INTO DEMO_EMPLOYEE(ID, FIRST_NAME, LAST_NAME, SALARY, JOB_TITLE, DEPARTMENT_ID, RATING, START_DATE, IS_ACTIVE)
VALUES(DEMO_EMPLOYEE_SEQ.NEXTVAL, 'Daylon', 'Hunt', 30000, 'Sales Manager', 103, 4, TO_DATE('01/01/2001', 'MM/DD/YYYY'), 0);

INSERT INTO DEMO_EMPLOYEE(ID, FIRST_NAME, LAST_NAME, SALARY, JOB_TITLE, DEPARTMENT_ID, RATING, START_DATE, IS_ACTIVE)
VALUES(DEMO_EMPLOYEE_SEQ.NEXTVAL, 'Dave', 'Lister', 35000, 'Sales Manager', 103, 4, TO_DATE('01/01/2005', 'MM/DD/YYYY'), 1);

INSERT INTO DEMO_EMPLOYEE(ID, FIRST_NAME, LAST_NAME, SALARY, JOB_TITLE, DEPARTMENT_ID, RATING, START_DATE, IS_ACTIVE)
VALUES(DEMO_EMPLOYEE_SEQ.NEXTVAL, 'Mary', 'Montana', 37500, 'Accounting Manager', 103, 6, TO_DATE('01/01/2007', 'MM/DD/YYYY'), 1);

INSERT INTO DEMO_EMPLOYEE(ID, FIRST_NAME, LAST_NAME, SALARY, JOB_TITLE, DEPARTMENT_ID, RATING, START_DATE, IS_ACTIVE)
VALUES(DEMO_EMPLOYEE_SEQ.NEXTVAL, 'Mary', 'Montana', 37500, 'Accounting Manager', 103, 6, TO_DATE('01/01/2007', 'MM/DD/YYYY'), 1);

INSERT INTO DEMO_EMPLOYEE(ID, FIRST_NAME, LAST_NAME, SALARY, JOB_TITLE, DEPARTMENT_ID, RATING, START_DATE, IS_ACTIVE)
VALUES(DEMO_EMPLOYEE_SEQ.NEXTVAL, 'Maria', 'White', 40000, 'Accountant', 103, 6, TO_DATE('01/01/2008', 'MM/DD/YYYY'), 0);

INSERT INTO DEMO_EMPLOYEE(ID, FIRST_NAME, LAST_NAME, SALARY, JOB_TITLE, DEPARTMENT_ID, RATING, START_DATE, IS_ACTIVE)
VALUES(DEMO_EMPLOYEE_SEQ.NEXTVAL, 'Billy', 'Hall', 45900, 'Finance Manager', 102, 6, TO_DATE('01/01/2012', 'MM/DD/YYYY'), 1);

INSERT INTO DEMO_EMPLOYEE(ID, FIRST_NAME, LAST_NAME, SALARY, JOB_TITLE, DEPARTMENT_ID, RATING, START_DATE, IS_ACTIVE)
VALUES(DEMO_EMPLOYEE_SEQ.NEXTVAL, 'Monica', 'Freeman', 22500, 'Shipping Clerk', 102, 5, TO_DATE('01/01/2013', 'MM/DD/YYYY'), 1);


INSERT INTO DEMO_EMPLOYEE(ID, FIRST_NAME, LAST_NAME, SALARY, JOB_TITLE, DEPARTMENT_ID, RATING, START_DATE, IS_ACTIVE)
VALUES(DEMO_EMPLOYEE_SEQ.NEXTVAL, 'Christina', 'Gomez', 31500, 'Shipping Clerk', 102, 8, TO_DATE('01/01/2015', 'MM/DD/YYYY'), 1);

INSERT INTO DEMO_EMPLOYEE(ID, FIRST_NAME, LAST_NAME, SALARY, JOB_TITLE, DEPARTMENT_ID, RATING, START_DATE, IS_ACTIVE)
VALUES(DEMO_EMPLOYEE_SEQ.NEXTVAL, 'Christina', 'Gomez', 31500, 'Programmer', 104, 8, TO_DATE('01/01/2018', 'MM/DD/YYYY'), 1);

INSERT INTO DEMO_EMPLOYEE(ID, FIRST_NAME, LAST_NAME, SALARY, JOB_TITLE, DEPARTMENT_ID, RATING, START_DATE, IS_ACTIVE)
VALUES(DEMO_EMPLOYEE_SEQ.NEXTVAL, 'Greg', 'Freeman', 60000, 'Programmer', 104, 8, TO_DATE('01/01/2018', 'MM/DD/YYYY'), 0);

COMMIT;

DROP TABLE DEMO_TECHNICAL_SKILL;

CREATE TABLE DEMO_TECHNICAL_SKILL
(
  EMPLOYEE_ID NUMBER NOT NULL,
  SKILL VARCHAR2(20) NOT NULL,
  SORT_INDEX NUMBER NOT NULL,
  IS_FAVORITE VARCHAR2(1) DEFAULT 'N' NOT NULL,
  
  CONSTRAINT UC_SKILL
  UNIQUE (EMPLOYEE_ID, SKILL),
  
  CONSTRAINT FK_EMPLOYEE
  FOREIGN KEY (EMPLOYEE_ID)
  REFERENCES DEMO_EMPLOYEE(ID)
);

INSERT INTO DEMO_TECHNICAL_SKILL VALUES(101, 'C#', 1, 'Y');
INSERT INTO DEMO_TECHNICAL_SKILL VALUES(101, 'JavaScript', 2, 'N');
INSERT INTO DEMO_TECHNICAL_SKILL VALUES(101, 'PL/SQL', 3, 'N');
INSERT INTO DEMO_TECHNICAL_SKILL VALUES(102, 'Excel', 1, 'N');
INSERT INTO DEMO_TECHNICAL_SKILL VALUES(103, 'JQuery', 1, 'N');
INSERT INTO DEMO_TECHNICAL_SKILL VALUES(104, 'JavaScript', 1, 'N');
INSERT INTO DEMO_TECHNICAL_SKILL VALUES(105, 'WPF', 1, 'N');
INSERT INTO DEMO_TECHNICAL_SKILL VALUES(106, 'MVVM', 1, 'N');
INSERT INTO DEMO_TECHNICAL_SKILL VALUES(108, 'Asp.net', 1, 'N');
INSERT INTO DEMO_TECHNICAL_SKILL VALUES(109, 'Razor', 1, 'N');
INSERT INTO DEMO_TECHNICAL_SKILL VALUES(110, 'HTML', 1, 'N');
INSERT INTO DEMO_TECHNICAL_SKILL VALUES(111, 'Ajax', 1, 'N');
INSERT INTO DEMO_TECHNICAL_SKILL VALUES(112, 'MS Word', 1, 'N');
INSERT INTO DEMO_TECHNICAL_SKILL VALUES(114, 'Windows', 1, 'N');
COMMIT;
-----


SELECT * FROM DEMO_EMPLOYEE;
SELECT * FROM DEMO_DEPARTMENT;
SELECT * FROM DEMO_JOB_TITLE;
SELECT * FROM DEMO_TECHNICAL_SKILL ORDER BY EMPLOYEE_ID, SORT_INDEX;